<!DOCTYPE html> 
<html> 
<head> 
    <title>Page Title</title> 
    <script src="//cdn.ckeditor.com/4.16.0/standard/ckeditor.js"></script>
    <script src="../ckeditor/ckeditor.js" ></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdn.lineicons.com/2.0/LineIcons.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Vadodara:wght@300;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdn.lineicons.com/2.0/LineIcons.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Hind+Vadodara:wght@300;500&display=swap" rel="stylesheet">
     <script src=" https://kit.fontawesome.com/a076d05399.js"> 
    </script> 
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <style> 

      .dropbtn{
        margin-left: 100px;
      }


           .dropbtn {
        background-color: rgb(45, 177, 218);
        color: white;
        cursor: pointer;
      }
      
      .dropbtn:hover, .dropbtn:focus {
        background-color: #3e8e41;
      }
      
      .dropdown {
        float: right;
        position: relative;
        display: inline-block;
      }
      
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        overflow: auto;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        right: 0;
        z-index: 1;
      }
      
      .dropdown-content a {
        color: black;
        padding: 8px 12px;
        text-decoration: none;
        display: block;
      }
      
      .dropdown a:hover {background-color: #ddd;}
      
      .show {display: block;}
          #wrap {
          background:#fff;
          margin:15px;
          position:fixed;
          overflow:hidden;
      }
      
      #content {
          width:80%;
          padding:2.5%;
         float:left;
      }
           * {
        margin: 0;
        padding: 0;
      }
      #cards_landscape_wrap-2{
        text-align: center;
        background: #F7F7F7;
      }
      #cards_landscape_wrap-2 .container{
        padding-top: 80px; 
        padding-bottom: 100px;
      }
      #cards_landscape_wrap-2 a{
        text-decoration: none;
        outline: none;
      }
      #cards_landscape_wrap-2 .card-flyer {
        border-radius: 5px;
      }
      #cards_landscape_wrap-2 .card-flyer .image-box{
        background: #ffffff;
        overflow: hidden;
        box-shadow: 0px 2px 15px rgba(0, 0, 0, 0.50);
        border-radius: 5px;
      }
      #cards_landscape_wrap-2 .card-flyer .image-box img{
        -webkit-transition:all .9s ease; 
        -moz-transition:all .9s ease; 
        -o-transition:all .9s ease;
        -ms-transition:all .9s ease; 
        width: 100%;
        height: 200px;
      }
      #cards_landscape_wrap-2 .card-flyer:hover .image-box img{
        opacity: 0.7;
        -webkit-transform:scale(1.15);
        -moz-transform:scale(1.15);
        -ms-transform:scale(1.15);
        -o-transform:scale(1.15);
        transform:scale(1.15);
      }
      #cards_landscape_wrap-2 .card-flyer .text-box{
        text-align: center;
      }
      #cards_landscape_wrap-2 .card-flyer .text-box .text-container{
        padding: 30px 18px;
      }
      #cards_landscape_wrap-2 .card-flyer{
        background: #FFFFFF;
        margin-top: 50px;
        -webkit-transition: all 0.2s ease-in;
        -moz-transition: all 0.2s ease-in;
        -ms-transition: all 0.2s ease-in;
        -o-transition: all 0.2s ease-in;
        transition: all 0.2s ease-in;
        box-shadow: 0px 3px 4px rgba(0, 0, 0, 0.40);
      }
      #cards_landscape_wrap-2 .card-flyer:hover{
        background: #fff;
        box-shadow: 0px 15px 26px rgba(0, 0, 0, 0.50);
        -webkit-transition: all 0.2s ease-in;
        -moz-transition: all 0.2s ease-in;
        -ms-transition: all 0.2s ease-in;
        -o-transition: all 0.2s ease-in;
        transition: all 0.2s ease-in;
        margin-top: 50px;
      }
      #cards_landscape_wrap-2 .card-flyer .text-box p{
        margin-top: 10px;
        margin-bottom: 0px;
        padding-bottom: 0px; 
        font-size: 14px;
        letter-spacing: 1px;
        color: #000000;
      }
      #cards_landscape_wrap-2 .card-flyer .text-box h6{
        margin-top: 0px;
        margin-bottom: 4px; 
        font-size: 18px;
        font-weight: bold;
        text-transform: uppercase;
        font-family: 'Roboto Black', sans-serif;
        letter-spacing: 1px;
        color: #00acc1;
      }
              .modalcss{
        width: 450px;
          height: 300px;
          margin: 0 auto;
          margin-top: 200px;
      }
      
      .modal {
          /* display: none; Hidden by default
          position: fixed; Stay in place */
          display: none;
          padding-left: 20%;
          padding-right: 500px;
          padding-top: 150px;
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        
        /* Modal Content */
        .modal-content {
          height: 100vh; 
          overflow: scroll;
          background-color: #fefefe;
          margin: auto;
          padding: 20px;
          border: 1px solid #888;
           /*width: 115%; */
          height: 500px;
        }
        
        /* The Close Button */
        .close {
          color: #aaaaaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
        }
      .hr{
        width: 100%;
          background-color: #a9a997;
          height: 1px;
      }
      
      .custom-file-upload {
        border: 1px solid #ccc;
        display: inline-block;
        padding: 6px 12px;
        cursor: pointer; 
      }
      
      .send{
            width: 57px;
      margin-bottom: 12px;
          margin-top: -35px;
                  margin-left: 418px;
      }
           * {
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "Hind Vadodara", -apple-system, BlinkMacSystemFont, Segoe UI,
          Helvetica Neue, Arial, sans-serif;
      }
      .container {
        display: flex;
        height: 100vh;
        width: 100vw;
        flex-wrap: wrap;
        overflow: hidden;
      }
      .main {
        height: calc(100% - 50px);
        display: flex;
        flex: 1;
      }
      .sidebar {
        height: 100%;
        width: 290px;
        box-sizing: border-box;
        box-shadow: 0 0 2rem 0 rgb(0 0 0 / 5%);
        overflow: hidden;
        transition: width 0.5s ease;
      }
      .container.nav-closed .sidebar,
      .container.nav-closed .header-logo {
        width: 0;
      }
      .sidebar ul {
        display: flex;
        flex-direction: column;
        padding: 5px;
      }
      .sidebar ul li {
        display: flex;
        align-items: center;
      }
      .sidebar ul li a {
        color: #000;
        text-decoration: none;
        display: flex;
        align-items: center;
        width: 100%;
        padding: 10px;
        white-space: nowrap;
      }
      .sidebar ul li a.active,
      .sidebar ul li a:hover {
        background: #e8ecef;
      }
      .sidebar ul li span {
        margin-left: 16px;
        font-size: 16px;
        font-weight: 100;
      }
      .sidebar ul li i {
        font-size: 18px;
        color: #111;
        font-weight: normal;
      }
      .header {
        height: 50px;
        background: #303f9f;
        width: 100%;
        display: flex;
        align-items: center;
        flex-basis: 100%;
      }
      .sidebar ul li a.active i {
        color: #303f9e;
      }
      .site-logo {
        height: 32px;
        width: 32px;
        min-height: 32px;
        min-width: 32px;
        margin: 0 18px 0 15px;
      }
      .site-logo path {
        fill: #fff;
      }
      .site-title {
        color: #fff;
        font-size: 24px;
        letter-spacing: 1px;
        font-weight: 400;
      }
      .page-content {
        padding: 10px 20px;
        box-sizing: border-box;
        width: 100%;
        flex: 1;
      }
      .page-content h1 {
        font-size: 20px;
        font-weight: 400;
        color: #333;
      }
      .header-search {
        height: 100%;
        align-items: center;
        display: flex;
        padding: 0 20px;
        flex: 1;
      }
      .header-search .button-menu {
        width: 28px;
        height: 28px;
        margin-right: 15px;
        background: none;
        border: 0;
        cursor: pointer;
      }
      .header-logo {
        display: flex;
        align-items: center;
        width: 220px;
        overflow: hidden;
        transition: width 0.5s ease;
      }
      .header-search input[type="search"] {
        height: 100%;
        width: 300px;
        padding: 10px 20px;
        box-sizing: border-box;
        font-size: 14px;
        font-weight: 100;
        background: none;
        border: none;
        color: #fff;
      }
      .header-search input[type="search"]:focus {
        outline: none;
      }
      .header-search input[type="search"]::placeholder {
        color: #ccc;
      }
      .header-search .button-menu:focus {
        outline: none;
        border: none;
      }
      .header-search .button-menu svg path {
        fill: #fff;
      }
      @media screen and (max-width: 991px) {
        .page-content {
          width: 100vw;
        }
      }
      @media screen and (max-width: 767px) {
        .header-logo {
          display: none;
        }
      }
      
      ::-webkit-scrollbar {
        -webkit-appearance: none;
        width: 7px;
      }
      ::-webkit-scrollbar-thumb {
        border-radius: 4px;
        background-color: rgba(0, 0, 0, .5);
        -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);
      }
      #table-wrapper {
  position:relative;
}
#table-scroll {
  height:550px;
  overflow:auto;  
  margin-top:20px;
}
#table-wrapper table {
  width:100%;

}
#table-wrapper table * {
  background:yellow;
  color:black;
}
#table-wrapper table thead th .text {
  position:absolute;   
  top:-20px;
  z-index:2;
  height:20px;
  width:35%;
  border:1px solid red;
}
 
</style>
 
</head> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="https://cdn.lineicons.com/2.0/LineIcons.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">
<link href="https://fonts.googleapis.com/css2?family=Hind+Vadodara:wght@300;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<body>

 <!-- navbar call -->
<%- include('./partials/navbar.ejs') %>
    <div class="main">
      <div class="sidebar">
        <ul>
          
          <li><a href="/create_batches" class="active" ><i class="fa fa-list-alt" aria-hidden="true"></i><span>Create Batches</span></a></li>
          <li><a href="#" ><i class="far fa-calendar"></i><span>Attendence</span></a></li>
          <li><a href="/students" ><i class="fa fa-users" aria-hidden="true"></i><span>Students</span></a></li>
          <li><a href="./admin_assignment" ><i class="fa fa-tasks"></i><span>Assignments</span></a></li>
          <li><a href='/announcements'  ><i class="fa fa-bullhorn"></i><span>Announcements</span></a></li>
          <li><a href="/test" ><i class="fa fa-trophy" aria-hidden="true"></i><span>Tests</span></a></li>
          <li><a href="/admin_video" ><i class="far fa-file-video"></i><span>Vedios</span></a></li>
          <li><a href="#" ><i class="fa fa-graduation-cap" aria-hidden="true"></i><span>Live classes</span></a></li>
          <li><a href="/admin_material" ><i class="fa fa-book" aria-hidden="true"></i><span>Study material</span></a></li>
          <li><a href="#" ><i class="fa fa-cog"></i><span>Settings</span></a></li>
  </ul>
      </div>
      <!--view test-->
      <div class="container-fluid admin">
        <div class="col-md-12 alert alert-primary">Test Name : <%=testData.title%></div>
        <!--header button modal-->
        <%if (addQues == true) { %>
          <button class="btn btn-primary bt-sm"data-toggle="modal" data-target="#exampleModal" ><i class="fa fa-plus"></i>	Add Single Choice Question</button>
          <button class="btn btn-primary bt-sm"data-toggle="modal" data-target="#exampleModal2" ><i class="fa fa-plus"></i>	Add Multiple Choice Question</button>
          <button class="btn btn-primary bt-sm"data-toggle="modal" data-target="#exampleModal3" ><i class="fa fa-plus"></i>	Add True/False Question</button>
          <button class="btn btn-primary bt-sm"data-toggle="modal" data-target="#exampleModal4" ><i class="fa fa-plus"></i>	Add Fill Up Question</button>
        <% } %>
  <!-- single choice Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add new question</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method="POST" action="/view_test?id=<%=id%>" >

          <div class="form-group">
            <label for="exampleInputEmail1"></label>
            <form id='question-frm'>
              <div class="form-group">
                <label>Question</label>
                <input type="hidden" name="qid" value="<?php echo $_GET['id'] ?>" />
                <input type="hidden" name="questionType" value="single_choice_question"/>
                <textarea id="editor1" rows='3' name="question" required="required" class="form-control" ></textarea>
              </div>
                <label>Options:</label>

              <div class="form-group">
                <textarea rows="2" name ="optionA" required="" class="form-control" ></textarea>
                <span>
                <label><input type="radio" name="answer" class="is_right" value="1" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                </span>
                <br>
                <textarea rows="2" name ="optionB" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer" class="is_right" value="2" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                <br>
                <textarea rows="2" name ="optionC" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer" class="is_right" value="3" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                <br>
                <textarea rows="2" name ="optionD" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer" class="is_right" value="4" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
              </div>
              <label>Description</label>
              <textarea rows='3' name="description" required="" class="form-control" ></textarea>	
              <div class ="modal-body">
                <div id="msg"></div>
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button class="btn btn-primary" id="submit" type="submit">submit</button>
          </div>
        </form>

  
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Submit</button>
      </div> -->
    </div>
  </div>
</div>

<!-- multiple choice Modal -->
<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add new question</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method="POST" action="/view_test?id=<%=id%>" >

          <div class="form-group">
            <label for="exampleInputEmail1"></label>
            <form id='question-frm'>
              <div class="form-group">
                <label>Question</label>
                <input type="hidden" name="qid" value="<?php echo $_GET['id'] ?>" />
                <input type="hidden" name="questionType" value="multiple_choice_question"/>
                <textarea id="editor2" rows='3' name="question" required="required" class="form-control" ></textarea>
              </div>
                <label>Options:</label>

              <div class="form-group">
                <textarea rows="2" name ="optionA" required="" class="form-control" ></textarea>
                <span>
                <label><input type="radio" name="answer1" class="is_right" value="1" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                </span>
                <br>
                <textarea rows="2" name ="optionB" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer2" class="is_right" value="2" id="btnuc"  onclick="check(this)"> <small>Question Answer</small></label>
                <br>
                <textarea rows="2" name ="optionC" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer3" class="is_right" value="3" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                <br>
                <textarea rows="2" name ="optionD" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer4" class="is_right" value="4" id="btnuc" onclick="check(this)" > <small>Question Answer</small></label>
              </div>
              <label>Description</label>
              <textarea rows='3' name="description" required="" class="form-control" ></textarea>	
             	
              <div class ="modal-body">
                <div id="msg"></div>
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button class="btn btn-primary" id="submit" type="submit">submit</button>
          </div>
        </form>

  
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Submit</button>
      </div> -->
    </div>
  </div>
</div>

<!-- true and false Modal -->
<div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add new question</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method="POST" action="/view_test?id=<%=id%>" >

          <div class="form-group">
            <label for="exampleInputEmail1"></label>
            <form id='question-frm'>
              <div class="form-group">
                <label>Question</label>
                <input type="hidden" name="qid" value="<?php echo $_GET['id'] ?>" />
                <input type="hidden" name="questionType" value="true_false_question" />
                
                <textarea id="editor3" rows='3' name="question" required="required" class="form-control" ></textarea>
              </div>
                <label>Options:</label>

              <div class="form-group">
                <label rows="2" name ="optionA" required="" class="form-control" >True</label>
                <span>
                <label><input type="radio" name="answer" class="is_right" value="1" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                </span>
                <br>
                <label rows="2" name ="optionB" required="" class="form-control" >False</label>
                <label><input type="radio" name="answer" class="is_right" value="2" id="btnuc" onclick="check(this)"> <small>Question Answer</small></label>
                <!-- <textarea rows="2" name ="optionD" required="" class="form-control" ></textarea>
                <label><input type="radio" name="answer4" class="is_right" value="4"> <small>Question Answer</small></label> -->
              </div>	
              <label>Description</label>
              <textarea rows='3' name="description" required="" class="form-control" ></textarea>	
             
              <div class ="modal-body">
                <div id="msg"></div>
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button class="btn btn-primary" id="submit" type="submit">submit</button>
          </div>
        </form>

  
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Submit</button>
      </div> -->
    </div>
  </div>
</div>
<!-- single choice Modal -->
<div class="modal fade" id="exampleModal4" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add new fill in the blanks question</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method="POST" action="/view_test?id=<%=id%>" >

          <div class="form-group">
            <label for="exampleInputEmail1"></label>
            <form id='question-frm'>
              <div class="form-group">
                <label>Add Question put 5 dots for fill in the blanks</label>
                <input type="hidden" name="qid" value="<?php echo $_GET['id'] ?>" />
                <input type="hidden" name="questionType" value="fill_in_the_blanks"/>
                <textarea id="editor4" rows='3' name="question" required="required" class="form-control" ></textarea>
              </div>
                <label>Answer</label>

              <div class="form-group">
                <textarea rows="2" name ="answer" required="" class="form-control" ></textarea>
                
                </span>
              </div>	
              <label>Description</label>
              <textarea rows='3' name="description" required="" class="form-control" ></textarea>	
             
              <div class ="modal-body">
                <div id="msg"></div>
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button class="btn btn-primary" id="submit" type="submit">submit</button>
          </div>
        </form>

  
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Submit</button>
      </div> -->
    </div>
  </div>
</div>
        <a href='/add_students_test?id=<%=id%>'><button class="btn btn-primary bt-sm" data-toggle="modal" data-target="#example1Modal"><i class="fa fa-plus"></i>	Add Student</button></a>
        <a href='/add_batches_test?id=<%=id%>'><button class="btn btn-primary bt-sm" data-toggle="modal" data-target="#example1Modal"><i class="fa fa-plus"></i>	Add Batches</button></a>
        <br>
        <br>
        Total Questions : <strong><%=count%></strong>
        <div id="active_students" id="table-wrapper"  style="display:block" class="tabcontent">
          <div  id="table-scroll" class="card-body p-0" style="margin-left: -14px;">
        <div class="card col-md-6 mr-4" style="float:left">
          <div  id="table-scroll" class="card-body p-0" style="margin-left: -14px;">
          <div class="card-header">
            Questions
          </div>
          <%if (questionData.length > 0) { %>
            <% for(var question of questionData){ %>
              <div class="card-body">
                
                <ul class="list-group">
                
                
                    <li class="list-group-item"><br>
                      <strong><%=question.questionType%></strong> <br>
                      <!-- <center> -->
                        <%=question.question%>
                        <button class="btn btn-sm btn-outline-danger remove_question" id="b5" type="button"  onclick="call('<%=question._id%>','<%=question.testId%>')"><i class="fa fa-trash"></i></button><br>
                      <% if (question.optionA  == undefined && question.optionB == undefined && question.optionC  != undefined && question.optionD != undefined) { %>
                        a. True<br>
                        b. False<br>
                      <% } else if((question.optionA  != undefined && question.optionB != undefined && question.optionC  != undefined && question.optionD != undefined) ) { %>
                        a. <%=question.optionA%><br>
                        b. <%=question.optionB%><br>
                        c. <%=question.optionC%><br>
                        d. <%=question.optionD%>
                      <% } %>

                      <!-- </center> -->
                      <!-- a. <%=question.optionA%><br>
                      b. <%=question.optionB%><br>
                      c. <%=question.optionC%><br>
                      d. <%=question.optionD%> -->
                    </li>
              
                </ul>
              </div>
            <% } %>
          <% } %> 
          </div> 
      </div>
      <div class="card col-md-4" style="float:left">
        <div  id="table-scroll" class="card-body p-0" style="margin-left: -14px;">
          <div class="card-header">
            Students 
          </div>
          <%if (stdCombo.length > 0) { %>
            <% for(var student of stdCombo){ %>
            <div class="card-body">
              <ul class="list-group">
                <%if (student != undefined) { %>
                  <li class="list-group-item"> <%=student[1]%>
                      <button class="btn btn-sm btn-outline-danger remove_question" id="b5" type="button"  onclick="deleteStudent('<%=student%>','<%=testData._id%>')"><i class="fa fa-trash"></i></button>
                  </li>
                <% } %>
              </ul>
            </div>
            <% } %>
          <% } %> 
        </div> 
      </div>
      <div class="card col-md-4" style="float:left">
        <div  id="table-scroll" class="card-body p-0" style="margin-left: -14px;">
        <div class="card-header">
          Batches
        </div>
        <%if (bthCombo.length > 0) { %>
          <% for(var branch of bthCombo){ %>
          <div class="card-body">
            <ul class="list-group">
          
                <li class="list-group-item"><%=branch[1]%>
                    <!-- <button class="btn btn-sm btn-outline-danger remove_student pull-right" data-id="<?php echo $row['id']?>"  type="button"><i class="fa fa-trash"></i></button> -->
                    <button class="btn btn-sm btn-outline-danger remove_question" id="b5" type="button"  onclick="deleteBatch('<%=branch%>','<%=testData._id%>')"><i class="fa fa-trash"></i></button>
                </li>
            
            </ul>
          </div>
          <%}%>
        <%}%>
      </div>
    </div>
    </div>
    </div>
      <div class="modal fade" id="manage_question" tabindex="-1" role="dialog" >
            <div class="modal-dialog modal-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  
                  <h4 class="modal-title" id="myModallabel">Add New Question</h4>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <form id='question-frm'>
                  <div class ="modal-body">
                    <div id="msg"></div>
                    <div class="form-group">
                      <label>Question</label>
                      <input type="hidden" name="qid" value="<?php echo $_GET['id'] ?>" />
                      <input type="hidden" name="id" />
                      <textarea rows='3' name="question" required="required" class="form-control" ></textarea>
                    </div>
                      <label>Options:</label>
    
                    <div class="form-group">
                      <textarea rows="2" name ="question_opt[0]" required="" class="form-control" ></textarea>
                      <span>
                      <label><input type="radio" name="is_right[0]" class="is_right" value="1"> <small>Question Answer</small></label>
                      </span>
                      <br>
                      <textarea rows="2" name ="question_opt[1]" required="" class="form-control" ></textarea>
                      <label><input type="radio" name="is_right[1]" class="is_right" value="1"> <small>Question Answer</small></label>
                      <br>
                      <textarea rows="2" name ="question_opt[2]" required="" class="form-control" ></textarea>
                      <label><input type="radio" name="is_right[2]" class="is_right" value="1"> <small>Question Answer</small></label>
                      <br>
                      <textarea rows="2" name ="question_opt[3]" required="" class="form-control" ></textarea>
                      <label><input type="radio" name="is_right[3]" class="is_right" value="1"> <small>Question Answer</small></label>
                    </div>
                    
                  </div>
                  <div class="modal-footer">
                    <button  class="btn btn-primary" name="save"><span class="glyphicon glyphicon-save"></span> Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="modal fade" id="manage_student" tabindex="-1" role="dialog" >
            <div class="modal-dialog modal-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  
                  <h4 class="modal-title" id="myModallabel">Add New Student/s</h4>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <form id='student-frm'>
                  <div class ="modal-body">
                    <div id="msg"></div>
                    <div class="form-group">
                      <label>Student</label>
                      <br>
                      <input type="hidden" name="qid" value="<?php echo $_GET['id'] ?>" />
                      <select rows='3' name="user_id[]" required="required" multiple class="form-control select2" style="width: 100% !important">
                     	
                      <option value="<?php echo $row['id'] ?>"></option>
                   
                    </select>
    
                      </select>
                    </div>
                    
                    
                  </div>
                  <div class="modal-footer">
                    <button  class="btn btn-primary" name="save"><span class="glyphicon glyphicon-save"></span> Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
  </body>
  <script>
    var call = function(questionId,testId){
      console.log(questionId);
       swal({
            title: "Are you sure?",
            text: "You want to delete the question",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: 'Yes, delete it!',
            cancelButtonText: "No, cancel!",
            closeOnConfirm: false,
            closeOnCancel: false
          },
          function(isConfirm){
            if (isConfirm){
              fetch('http://localhost:8000/api/question/deleteQuestion/'+questionId, {
                method: 'DELETE', // or 'PUT'
                headers: {
                  'Content-Type': 'application/json',
                }
              })
              .then(response => response.json())
              .then(data => {
                swal("Deleted!", "question has been removed successfully!", "success");
                  window.location.href = '/view_test?id='+testId;
              })
              .catch((error) => {
                console.error('Error:', error);
                swal("Cancelled", "something went wrong", "error");
              });
            } else {
              swal("Cancelled", "question is not removed :)", "error");
            }
          });
        };
  
    var deleteStudent = function(studentId,testId){
      let arr=[];
      let stdId = [];
      let name = [];
      arr.push(studentId.split(','))
      stdId.push(arr[0][0])
      name.push(arr[0][1])
      console.log('!!!!!!!!!!!!!!!1',studentId,testId,stdId,name,arr);
       swal({
            title: "Are you sure?",
            text: "You want to delete the student",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: 'Yes, delete it!',
            cancelButtonText: "No, cancel!",
            closeOnConfirm: false,
            closeOnCancel: false
          },
          function(isConfirm){
            const data = { students: stdId ,studentsName: name};
            if (isConfirm){
              fetch('http://localhost:8000/api/test/deleteStudentsFromTest/'+testId, {
                method: 'PUT', // or 'PUT'
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
              })
              .then(response => response.json())
              .then(data => {
                swal("Deleted!", "student has been removed successfully!", "success");
                  window.location.href = '/view_test?id='+testId;
              })
              .catch((error) => {
                console.error('Error:', error);
                swal("Cancelled", "something went wrong", "error");
              });
            } else {
              swal("Cancelled", "student is not removed :)", "error");
            }
          });
        };
  
    var deleteBatch = function(batchId,testId){
      let arr=[];
      let bthId = [];
      let name = [];
      arr.push(batchId.split(','))
      bthId.push(arr[0][0])
      name.push(arr[0][1])
      console.log('!!!!!!!!!!!!!!!1',batchId,testId,bthId,name,arr);
       swal({
            title: "Are you sure?",
            text: "You want to delete the batch",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: 'Yes, delete it!',
            cancelButtonText: "No, cancel!",
            closeOnConfirm: false,
            closeOnCancel: false
          },
          function(isConfirm){
            const data = { branches: bthId, branchesName: name };
            if (isConfirm){
              fetch('http://localhost:8000/api/test/deleteBranchesFromTest/'+testId, {
                method: 'PUT', // or 'PUT'
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
              })
              .then(response => response.json())
              .then(data => {
                swal("Deleted!", "batch has been removed successfully!", "success");
                  window.location.href = '/view_test?id='+testId;
              })
              .catch((error) => {
                console.error('Error:', error);
                swal("Cancelled", "something went wrong", "error");
              });
            } else {
              swal("Cancelled", "batch is not removed :)", "error");
            }
          });
        };
        document.getElementById('b4').onclick = function(){
          swal({
            title: "Are you sure?",
            text: "You want to logout!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: 'Yes!',
            closeOnConfirm: false,
            //closeOnCancel: false
          },
          function(){
            console.log('yes!!!!!!!!!')
            function preventBack() { window.history.forward(); }
            setTimeout("preventBack()", 0);
            window.onunload = function () { null };
            window.location.href = '/welcome';
          });
        };

    function check(ele){
      if(ele.id=="btnc"){
        ele.checked=false;
        ele.id="btnuc";
      }
      else{
        ele.checked=true;
        ele.id="btnc";
      }
    }
    CKEDITOR.replace( 'editor1' );
    CKEDITOR.replace( 'editor2' );
    CKEDITOR.replace( 'editor3' );
    CKEDITOR.replace( 'editor4' );
    
  </script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
  
     <!--Include jQuerry-->
     <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  
     <!-- Include Date Range Picker -->
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
    

</html> 